(this["webpackJsonpmonsterlist-example"]=this["webpackJsonpmonsterlist-example"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),s=n(4),r=n.n(s),i=(n(13),n(5)),u=n(6),a=n(8),j=n(7),l=(n(14),n(2)),b=n(0),f=function(){return Object(b.jsx)(b.Fragment,{children:"Loading..."})},O=(n(16),function(t){var e=t.book;return Object(b.jsxs)("div",{className:"book-card",children:[Object(b.jsx)("img",{alt:e.title,src:e.formats["image/jpeg"],width:100}),Object(b.jsx)("small",{children:e.title})]})}),d=(n(17),function(t){var e=t.books;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{id:"layout",className:"book-list",children:e.map((function(t){return Object(b.jsx)(O,{book:t},t.id)}))})})}),h=(n(18),n(19),function(t){var e=t.books,n=t.setBooks,c=Object(o.useState)([]),s=Object(l.a)(c,2),r=s[0],i=s[1],u=Object(o.useRef)(!0);Object(o.useEffect)((function(){u.current&&e.length>0&&(console.log("$ DEBUG firstRun",u),i(e),u.current=!1)}),[e]);var a=function(t){t.stopPropagation();var e=t.target.value;if(e.length>0){var o=r.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));n(o)}else n(r),u.current=!0};return Object(b.jsx)("input",{className:"local-search",type:"text",placeholder:"Search for a book",onChange:function(t){return a(t)}})}),g=function(t){var e=t.books,n=t.setBooks;return Object(b.jsx)("div",{className:"book-filters",children:Object(b.jsx)(h,{books:e,setBooks:n})})},k=function(){var t=function(){var t=Object(o.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],s=Object(o.useState)(!1),r=Object(l.a)(s,2),i=r[0],u=r[1],a={mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}};return Object(o.useEffect)((function(){n.length>0&&u(!1)}),[n]),{books:n,setBooks:c,getBooks:function(t){u(!0),fetch("http://gutendex.com/books/?page="+(t||"1"),a).then((function(t){return t.json()})).then((function(t){return c(t.results),t}))},loading:i}}(),e=t.books,n=t.setBooks,c=t.getBooks,s=t.loading;return Object(o.useEffect)((function(){c(1)}),[]),Object(o.useEffect)((function(){e.length>0&&console.log("$ DEBUG books[4]",e[4])}),[e]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Project Guttenberg catalog"}),Object(b.jsx)(g,{books:e,setBooks:n}),s?Object(b.jsx)(f,{}):Object(b.jsx)(d,{books:e})]})},x=function(t){Object(a.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(k,{})})}}]),n}(o.Component),m=x,p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),o(t),c(t),s(t),r(t)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),p()}],[[20,1,2]]]);
//# sourceMappingURL=main.9b1c263a.chunk.js.map